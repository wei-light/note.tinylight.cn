---
title: Sass 介绍
date: 2022-10-27
duration: 5min
cover: /images/articles/introduce-sass/cover.jpg
---

**「 Sass 是世界上最成熟，稳定，功能最强大的专业级 CSS 扩展语言 」**

对于 Sass，可以说是即熟悉又陌生。以前学习 Sass 时，依照着网络上的视频资源，可以轻松地入门并了解其一些基础的语法。但也仅此而已，对于它的一些其它概念仍然感到十分迷惑，如：

1. 为什么会有 sass 和 scss，它们之间有什么区别
2. 安装依赖时，`dart-sass` 和 `node-sass` 又该如何选择
3. ...

面对上述的一系列问题，又让人无从下手。在接下来的篇幅中，会尽可能地解决以上的困惑。

## 什么是 Sass

开始之前，要知道什么是 CSS 预处理器：

> CSS 预处理器能够让你通过预处理器自己独有的语法生成 CSS，且多数 CSS 预处理器都会增加一些原生 CSS 不具备的特性。


市面上有很多 CSS 预处理器可供选择，Sass 就是其中一种。

在多数情况下，我们仅使用 CSS 即可。但随着样式越来越多、越来越复杂，项目会变得难以维护。这时，预处理器就可以起到一定的作用。Sass 有一些在 CSS 中不存在的特性，比如嵌套、混合、继承和其它可以帮助你编写出健壮、可维护的 CSS 的 特性。

## sass 和 scss

> Sass 是最早出现的 CSS 预处理器，最初采用 Ruby 实现。受 [Haml](http://haml.info/) 的启发，它使用行的缩进来指定块，而不是采用方括号和分号。由于语法上和原生的 CSS 有着一定的区别，它并不能被一部分开发者所接受。因此，在 Sass 3 之后，Sass 开发者增加了一种新语法，称为 “SCSS”，它更接近于原生 CSS 的语法。


目前，Sass 支持两种语法：

> **SCSS**：SCSS 语法使用 `.scss` 作为文件后缀。它是 CSS 的超集，除了一些微小的差别外，几乎所有有效的 CSS 都是有效的 SCSS。由于它与 CSS 的相似性，它更容易被适应，且更受欢迎。

> **Indented Syntax**：缩进语法是 Sass 最初的语法，它使用 `.sass` 作为文件后缀。因为该文件后缀，它有时候也被称为 “Sass”。缩进语法支持所有在 SCSS 中的特性，只不过它使用缩进来代替方括号和分号去描述文档。

## Sass 的实现

实际上，Sass 更多的是充当定制规则的角色，根据该规则，可以在多种语言下实现。

Sass 发展至今，总共有三种实现。与现在一些主流的 CSS 预处理器（如 Less、Stylus 等）不同的是，这三种实现都并非采用 JavaScript，而是使用其它语言：

### Ruby Sass

Sass 在 2006 年被创建时，Ruby 是当时 Web 开发中最前沿的编程语言，同时也是 Sass 作者开发的 Haml 模板语言所依赖的编程语言。用 Ruby 编写 Sass 能够很方便地吸引已有的用户甚至整个 Ruby 生态来使用。

由于 Sass 编译器是用 Ruby 开发的，因此，前端开发想要编译 Sass 就需要在本地安装 Ruby。

后来，Node.js 的出现推动了前端工程化的发展，大家开始采用模块化开发。但是，Ruby Sass 并不能与 Node.js 结合，所以出现了 `node-sass`，Ruby Sass 慢慢退居幕后。直至 2019 年 3 月 26 日，Ruby Sass 被宣布不再维护，Sass 最早的编译器正式退出历史舞台。

### LibSass

LibSass 是 Sass 的一个 C/C++ 实现，其目的是易于与多种编程语言集成。需要注意的是 LibSass 只是一个库，如果想要使用 LibSass 编译 Sass，需要对 LibSass 进行封装。

目前，针对不同语言社区都有相应的封装实现，上面提到的 `node-sass` 就是其中一个较为流行的实现。其它一些常见语言的实现如下：

- [node-sass](https://github.com/sass/node-sass)：Node.js 下的实现
- [libsass-python](https://github.com/sass/libsass-python)：Python 下的实现
- [go-libsass](https://github.com/wellington/go-libsass)：GO 语言下的实现
- [Ruby](https://github.com/sass/sassc-ruby)：Ruby 下的实现
- [sass.js](https://github.com/medialize/sass.js)：JavaScript 下的实现
- [jsass](https://github.com/bit3/jsass)：Java 下的实现

此外，还有其它一些未列出的实现，具体请参考[实现列表](https://github.com/sass/libsass/blob/master/docs/implementations.md)

作为前端开发者，我们重点关注 `node-sass`。由于 `node-sass` 是使用 C++ 编写的，与最初的 Ruby Sass 相比，它拥有更快的编译速度和更好的性能。

看起来，`node-sass` 似乎是一个不错的选择，但早在 2020 年 10 月，Sass 团队已经宣布 LibSass（包括 Node Sass）过时了。
![Tweet About Sass](/images/articles/introduce-sass/tweet-about-sass.ppg)
其主要原因是 Sass 团队认为 LibSass 难以与 Sass 和 CSS 的最新发展保持同步，随着时间的推移，对于一些新特性支持上的差距会越来越大。 Sass 团队经过大量讨论，最后才弃用 LibSass。但团队会继续对 LibSass 和 Node Sass 进行维护，只是不再添加新的特性。

现在，Sass 官方更推荐在新项目中使用 Dart Sass，也建议 LibSass 用户最后都迁移到 Dart Sass。
_PS：安装过 _`_node-sass_`_ 的都知道，该过程会出现一系列的问题，比如网络连接、版本是否对应等，极大阻碍了开发进度。如今转向 _`_dart-sass_`_ 也是一个不错的选择。_

### Dart Sass

Dart Sass 现在是 Sass 的主要实现，这意味着它集成新功能要早于其它任何实现版本。Dart Sass 速度快、易于安装，并且可以被编译成纯 JavaScript 代码，这使得它很容易集成到现代 Web 的开发流程中。

虽然和 Node Sass 相比，Dart Sass 的性能要稍微差些，但 Dart Sass 胜在对 CSS 的特性支持全、安装方便，因此也更受欢迎。

### 总结

1. 由于历史原因，Sass 提供了两种语法，分别是 SCSS 和 Indented Syntax（缩进语法）。Indented Syntax 是最初的语法，也可以称为 Sass。SCSS 是后来增加的语法，格式更接近 CSS，更为主流。
2. Sass 到目前共有三种实现，Ruby Sass、LibSass 和 Dart Sass。其中 Ruby Sass 已不再维护了，LibSass 也宣布过时了，但它们都对 Sass 的发展起到了推动的作用。而 Dart Sass 现在是 Sass 的主要实现，也可以说是 Sass 的未来。

## 参考

1. [Sass: Syntactically Awesome Style Sheets](https://sass-lang.com/)
2. [GitHub - sass/ruby-sass](https://github.com/sass/ruby-sass)
3. [继往开来的 sass 三代编译器：ruby sass、node-sass、dart-sass - 掘金](https://juejin.cn/post/7052193042752602148#comment)